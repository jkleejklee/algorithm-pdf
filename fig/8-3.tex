\input{pre}
\begin{document}
\begin{tikzpicture}
\def\nod#1#2#3#4#5{
\node [minimum width=#1cm,minimum height=#2cm,draw,font=\Large,fill=#5] at (#3) {#4};}
\foreach \k\num in {1/1,9/2,18/5}{
    \foreach \i in {1,...,5}{
        \foreach \j in {1,...,5}{
            \nod{1}{1}{\k+\j,-\i}{$\infty$}{background}}
        \nod{1}{1}{\k+\i,-\i}{0}{background}
        \nod{1}{1}{\k,-\i}{\i}{blue!20}}
    \foreach \j in {1,...,5}{
        \nod{1}{1}{\k+\j,0}{\j}{blue!20}}
    \foreach \i/\j/\d in {1/2/8,1/4/4,1/5/3,2/5/8,3/1/6,3/2/7,3/4/10,3/5/2,5/1/5,5/2/5}{
        \nod{1}{1}{\k+\j,-\i}{\d}{background}}
    \nod{1}{5}{\k-1,-3}{i}{background}
    \nod{5}{1}{\k+3,1}{j}{background}
    \nod{2}{2}{\k-.5,.5}{k=\num}{background}}
\nod{1}{1}{13,-5}{9}{green!20}
\nod{1}{1}{22,-5}{9}{green!5}
\nod{1}{1}{19,-2}{13}{green!20}
\nod{1}{1}{22,-2}{17}{green!20}
\node at(15.5,-3){......};
\end{tikzpicture}
\end{document}